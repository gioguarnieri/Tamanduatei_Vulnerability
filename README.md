# Tamanduatei Vulnerability

This code calculates the point-wise vulnerability to the Tamanduatei basin. To execute this task we only need the <i>edgelist.dat</i> and <i>vulnerability.py</i>. The calculation will result in two results, one of them being the time it took in the <i>screen.out</i> file and the vulnerability to each node in <i>result.dat</i>. I will give a brief explanation on each file next.

## vulnerability.py

Here we calculate the vulnerability using python, the main module used is **igraph**. The point-wise vulnerability is calculated by calculating the entire network efficiency, defined as

<img src="https://render.githubusercontent.com/render/math?math=\large\color{red}efi=\frac{1}{d_{ij}}">, 

or, more simply, the inverse of the distance between two nodes. After calculating all those inverse distances we are left with a matrix. Then, we make a mean with the lines, turning into a column and a mean with the column resulting in a number.

Mathematically put it would be 

<img src="https://render.githubusercontent.com/render/math?math=\large\color{red}E(\textbf{G})=\frac{1}{N(N-1)}\sum_{i\nej\in\textbf{G}}\frac{1}{d_{ij}}"> [1]

This global efficiency is used to calculate the point-wise vulnerability as

<img src="https://render.githubusercontent.com/render/math?math=\large\color{red}V(i)=\frac{E(G)-E(G,i)}{E(G)}">. [2]

This way, we obtain a number between 0 and 1 of the network vulnerability. It is important to notice that this is a damage in the efficiency caused by the removal of each node. Hence why, point-wise vulnerability

[1] LATORA, V.; MARCHIORI, M. Efficient behavior of small-world networks. Physical Review Letters, v. 87, n. 19, p. 198701–1–198701–4, 2001. ISSN10797114.

[2] GOLDSHTEIN, V.; KOGANOV, G. A.; SURDUTOVICH, G. I. Vulnerability and Hierarchy of Complex Networks. p. 1–4, 2004. <http://arxiv.org/abs/cond-mat/0409298>

## edgelist.dat

This file was made with a tool from https://github.com/aurelienne/gis4graph. Simply put, the tool converts a shape and OpenStreetMap files into a edgelist, facilitating our work in analyzing geographic networks. You can access the shape file in the _Vulnerab_vias.zip_ file.

## screen.out

This file contains the time it took to calculate some steps, it is called <i>screen.out</i> since I needed to transfer what I would see in the screen to a file.

## result.dat

Here we see the final result of the calculation, just two columns, one being the nodes and the other one the vulnerability to each node.

## Vulnerab_vias.zip

The final result, this file serves as a input to generate the entire network and plot the figures in our article.
